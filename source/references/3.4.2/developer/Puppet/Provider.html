<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Puppet::Provider
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Puppet.html" title="Puppet (module)">Puppet</a></span></span>
     &raquo; 
    <span class="title">Provider</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Puppet::Provider
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'>Object</span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next">Puppet::Provider</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Comparable, <span class='object_link'><a href="Util/Errors.html" title="Puppet::Util::Errors (module)">Util::Errors</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/puppet/provider.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>An instance of a Provider is associated with one resource.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Class level methods are only called once to configure the provider (when the type is created), and not
for each resource the provider is operating on.
The instance methods are however called for each resource.</p>
</div>
  </div>

<p>A Provider is an implementation of the actions that manage resources (of some type) on a system.
This class is the base class for all implementation of a Puppet Provider.</p>

<h2>Concepts:</h2>

<ul>
<li><strong>Confinement</strong> - confinement restricts providers to only be applicable under certain conditions.
 It is possible to confine a provider several different ways:

<ul>
<li>the included <span class='object_link'><a href="Confiner.html#confine-instance_method" title="Puppet::Confiner#confine (method)">Confiner#confine</a></span> method which provides filtering on fact, feature, existence of files, or a free form
predicate.</li>
<li>the <span class='object_link'><a href="#commands-class_method" title="Puppet::Provider.commands (method)">Provider.commands</a></span> method that filters on the availability of given system commands.</li>
</ul>
</li>
<li><strong>Property hash</strong> - the important instance variable <code>@property_hash</code> contains all current state values
for properties (it is lazily built). It is important that these values are managed appropriately in the
methods <span class='object_link'>Provider.instances</span>, <span class='object_link'><a href="#prefetch-class_method" title="Puppet::Provider.prefetch (method)">Provider.prefetch</a></span>, and in methods that alters the current state (those that change the
lifecycle (creates, destroys), or alters some value reflected backed by a property).</li>
<li><strong>Flush</strong> - is a hook that is called once per resource when everything has been applied. The intent is
that an implementation may defer modification of the current state typically done in property setters
and instead record information that allows flush to perform the changes more efficiently.</li>
<li><strong>Execution Methods</strong> -  The execution methods provides access to execution of arbitrary commands.
As a convenience execution methods are available on both the instance and the class of a provider since a
lot of provider logic switch between these contexts fairly freely.</li>
<li><strong>System Entity/Resource</strong> - this documentation uses the term "system entity" for system resources to make
it clear if talking about a resource on the system being managed (e.g. a file in the file system)
or about a description of such a resource (e.g. a Puppet Resource).</li>
<li><strong>Resource Type</strong> - this is an instance of Type that describes a classification of instances of Resource (e.g.
the <code>File</code> resource type describes all instances of <code>file</code> resources).
(The term is used to contrast with "type" in general, and specifically to contrast with the implementation
class of Resource or a specific Type).</li>
</ul>



  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Provider/CommandDefiner.html" title="Puppet::Provider::CommandDefiner (class)">CommandDefiner</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  




  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      
<li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#model-class_method" title="model (class method)">+ (???) <strong>model</strong> </a>
    

    
  </span>
  
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  <span class="deprecated note title">deprecated</span>
  <span class="private note title">private</span>

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>This attribute is available for backwards compatibility reasons.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#command-class_method" title="command (class method)">+ (String) <strong>command</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the absolute path to the executable for the command referenced by the given name.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#commands-class_method" title="commands (class method)">+ <strong>commands</strong>(command_specs) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Confines this provider to be suitable only on hosts where the given commands are present.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#create_class_and_instance_method-class_method" title="create_class_and_instance_method (class method)">+ <strong>create_class_and_instance_method</strong>(name, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>This method is used to generate a method for a command.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#execfail-class_method" title="execfail (class method)">+ (Puppet::Util::Execution::ProcessOutput) <strong>execfail</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Wraps execution of <span class='object_link'><a href="#execute-class_method" title="Puppet::Provider.execute (method)">Provider.execute</a></span> with mapping of exception to given exception (and output as argument).</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#execpipe-class_method" title="execpipe (class method)">+ (String) <strong>execpipe</strong>(*args) {|pipe| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Executes the provided command with STDIN connected to a pipe, yielding the pipe object.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#execute-class_method" title="execute (class method)">+ (Puppet::Util::Execution::ProcessOutput) <strong>execute</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Executes the desired command, and return the status and output.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#has_command-class_method" title="has_command (class method)">+ (Object) <strong>has_command</strong>(name, path) {|| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a convenience method for invocation of a command.</p>
</div></span>
  
</li>

      
        
<li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#make_command_methods-class_method" title="make_command_methods (class method)">+ (Object) <strong>make_command_methods</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  <span class="private note title">private</span>

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>Use <span class='object_link'><a href="#commands-class_method" title="Puppet::Provider.commands (method)">Provider.commands</a></span>, <span class='object_link'><a href="#optional_commands-class_method" title="Puppet::Provider.optional_commands (method)">Provider.optional_commands</a></span>, or <span class='object_link'><a href="#has_command-class_method" title="Puppet::Provider.has_command (method)">Provider.has_command</a></span> instead. This was not meant to be part of a public API</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#optional_commands-class_method" title="optional_commands (class method)">+ (Object) <strong>optional_commands</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines optional commands.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#post_resource_eval-class_method" title="post_resource_eval (class method)">+ <strong>post_resource_eval</strong> </a>
    

    
  </span>
  
  
  
  
  
  <span class="abstract note title">abstract</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>This method may be implemented by a provider in order to perform any cleanup actions needed.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#prefetch-class_method" title="prefetch (class method)">+ <strong>prefetch</strong>(resource_hash) </a>
    

    
  </span>
  
  
  
  
  
  <span class="abstract note title">abstract</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>This method may be implemented by a provider in order to pre-fetch resource properties.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#command-instance_method" title="#command (instance method)">- (String) <strong>command</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the absolute path to the executable for the command referenced by the given name.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#flush-instance_method" title="#flush (instance method)">- <strong>flush</strong> </a>
    

    
  </span>
  
  
  
  
  
  <span class="abstract note title">abstract</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>This method may be implemented by a provider in order to flush properties that has not been individually applied to the managed entity's current state.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'>Util</span></h3>
  <p class="inherited"><span class='object_link'><a href="Util.html#exit_on_fail-class_method" title="Puppet::Util.exit_on_fail (method)">exit_on_fail</a></span>, <span class='object_link'><a href="Util.html#exit_on_fail-instance_method" title="Puppet::Util#exit_on_fail (method)">exit_on_fail</a></span>, <span class='object_link'><a href="Util.html#which-class_method" title="Puppet::Util.which (method)">which</a></span>, <span class='object_link'><a href="Util.html#which-instance_method" title="Puppet::Util#which (method)">which</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'>Confiner</span></h3>
  <p class="inherited"><span class='object_link'><a href="Confiner.html#confine-instance_method" title="Puppet::Confiner#confine (method)">confine</a></span>, <span class='object_link'><a href="Confiner.html#confine_collection-instance_method" title="Puppet::Confiner#confine_collection (method)">confine_collection</a></span>, <span class='object_link'><a href="Confiner.html#suitable%3F-instance_method" title="Puppet::Confiner#suitable? (method)">suitable?</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="model-class_method">
  
    + (<tt>???</tt>) <strong>model</strong>  <span class="extras">(readonly)</span>&nbsp;<span class="deprecated note title">deprecated</span><span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>This attribute is available for backwards compatibility reasons.</p>
</div></div>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>Original = <em>"LAK 2007-05-09: Keep the model stuff around for backward compatibility"</em>
Is this really needed? The comment about backwards compatibility was made in 2007.</p>
</div>
  </div>

<p>Returns A model kept for backwards compatibility.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>???</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A model kept for backwards compatibility.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 73</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_model identifier id'>model</span>
  <span class='rubyid_@model ivar id'>@model</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="command-class_method">
  
    + (<tt><span class='object_link'>String</span></tt>) <strong>command</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the absolute path to the executable for the command referenced by the given name.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the absolute path to the found executable for the command</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::DevError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the name does not reference an existing command.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Util.html#which-class_method" title="Puppet::Util.which (method)">Util.which</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 152</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_command identifier id'>command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_name identifier id'>name</span> <span class='assign token'>=</span> <span class='rubyid_name identifier id'>name</span><span class='dot token'>.</span><span class='rubyid_intern identifier id'>intern</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_defined? defined kw'>defined?</span><span class='lparen token'>(</span><span class='rubyid_@commands ivar id'>@commands</span><span class='rparen token'>)</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_command identifier id'>command</span> <span class='assign token'>=</span> <span class='rubyid_@commands ivar id'>@commands</span><span class='lbrack token'>[</span><span class='rubyid_name identifier id'>name</span><span class='rbrack token'>]</span>
    <span class='comment val'># nothing</span>
  <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='symbol val'>:command</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_command identifier id'>command</span> <span class='assign token'>=</span> <span class='rubyid_superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='rubyid_command identifier id'>command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='comment val'># nothing</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_DevError constant id'>DevError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;No command #{name} defined for provider #{self.name}&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_which identifier id'>which</span><span class='lparen token'>(</span><span class='rubyid_command identifier id'>command</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="commands-class_method">
  
    + <strong>commands</strong>(command_specs) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>It is preferred if the commands are not entered with absolute paths as this allows puppet
to search for them using the PATH variable.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p><p>Confines this provider to be suitable only on hosts where the given commands are present.
Also see <span class='object_link'><a href="Confiner.html#confine-instance_method" title="Puppet::Confiner#confine (method)">Confiner#confine</a></span> for other types of confinement of a provider by use of other types of
predicates.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>command_specs</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span>{<span class='object_link'>String</span> =&gt; <span class='object_link'>String</span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Map of name to command that the provider will
be executing on the system. Each command is specified with a name and the path of the executable.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#optional_commands-class_method" title="Puppet::Provider.optional_commands (method)">optional_commands</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 179</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_commands identifier id'>commands</span><span class='lparen token'>(</span><span class='rubyid_command_specs identifier id'>command_specs</span><span class='rparen token'>)</span>
  <span class='rubyid_command_specs identifier id'>command_specs</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_path identifier id'>path</span><span class='bitor op'>|</span>
    <span class='rubyid_has_command identifier id'>has_command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_path identifier id'>path</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_class_and_instance_method-class_method">
  
    + <strong>create_class_and_instance_method</strong>(name, &amp;block) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>This method is used to generate a method for a command.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439
440
441
442
443
444
445
446
447</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 437</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_create_class_and_instance_method identifier id'>create_class_and_instance_method</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_singleton_class identifier id'>singleton_class</span><span class='dot token'>.</span><span class='rubyid_method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='rubyid_meta_def identifier id'>meta_def</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='rubyid_define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='bitor op'>|</span>
      <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="execfail-class_method">
  
    + (<tt><span class='object_link'><a href="Util/Execution/ProcessOutput.html" title="Puppet::Util::Execution::ProcessOutput (class)">Puppet::Util::Execution::ProcessOutput</a></span></tt>) <strong>execfail</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Wraps execution of <span class='object_link'><a href="#execute-class_method" title="Puppet::Provider.execute (method)">execute</a></span> with mapping of exception to given exception (and output as argument).</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Util/Execution/ProcessOutput.html" title="Puppet::Util::Execution::ProcessOutput (class)">Puppet::Util::Execution::ProcessOutput</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>output as specified by options</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>under same conditions as <span class='object_link'><a href="#execute-class_method" title="Puppet::Provider.execute (method)">execute</a></span>, but raises the given <code>exception</code> with the output as argument</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 143</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_execfail identifier id'>execfail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='colon2 op'>::</span><span class='rubyid_Execution constant id'>Execution</span><span class='dot token'>.</span><span class='rubyid_execfail identifier id'>execfail</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="execpipe-class_method">
  
    + (<tt><span class='object_link'>String</span></tt>) <strong>execpipe</strong>(*args) {|pipe| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Executes the provided command with STDIN connected to a pipe, yielding the
pipe object.
This allows data to be fed to the subprocess.</p>

<p>The command can be a simple string, which is executed as-is, or an Array,
which is treated as a set of command arguments to pass through.</p>

<p>In all cases this is passed directly to the shell, and STDOUT and STDERR
are connected together during execution.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>, <tt><span class='object_link'>Array</span>&lt;<span class='object_link'>String</span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the command to execute as one string, or as parts in an array.
the parts of the array are joined with one separating space between each entry when converting to
the command line string to execute.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>failonfail</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>(true) if the execution should fail with Exception on failure or not.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>pipe</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>to a block executing a subprocess</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>pipe</span>
      
      
        <span class='type'>(<tt><span class='object_link'>IO</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the opened pipe</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the output to return</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a string with the output from the subprocess executed by the given block</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ExecutionFailure.html" title="Puppet::ExecutionFailure (class)">Puppet::ExecutionFailure</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the executed chiled process did not exit with status == 0 and <code>failonfail</code> is
<code>true</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 131</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_execpipe identifier id'>execpipe</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='colon2 op'>::</span><span class='rubyid_Execution constant id'>Execution</span><span class='dot token'>.</span><span class='rubyid_execpipe identifier id'>execpipe</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="execute-class_method">
  
    + (<tt><span class='object_link'><a href="Util/Execution/ProcessOutput.html" title="Puppet::Util::Execution::ProcessOutput (class)">Puppet::Util::Execution::ProcessOutput</a></span></tt>) <strong>execute</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Unfortunately, the default behavior for failonfail and combine (since
0.22.4 and 0.24.7, respectively) depend on whether options are specified
or not. If specified, then failonfail and combine default to false (even
when the options specified are neither failonfail nor combine). If no
options are specified, then failonfail and combine default to true.</p>
</div>
  </div>

<p>Executes the desired command, and return the status and output.
def execute(command, options)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>String</span>&gt;</tt>, <tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the command to execute. If it is
an Array the first element should be the executable and the rest of the
elements should be the individual arguments to that executable.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a Hash of options</p>
</div>
      
    </li>
  
</ul>

  
    
    

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Util/Execution/ProcessOutput.html" title="Puppet::Util::Execution::ProcessOutput (class)">Puppet::Util::Execution::ProcessOutput</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>output as specified by options</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ExecutionFailure.html" title="Puppet::ExecutionFailure (class)">Puppet::ExecutionFailure</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the executed chiled process did not exit with status == 0 and <code>failonfail</code> is
<code>true</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 119</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_execute identifier id'>execute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='colon2 op'>::</span><span class='rubyid_Execution constant id'>Execution</span><span class='dot token'>.</span><span class='rubyid_execute identifier id'>execute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_command-class_method">
  
    + (<tt><span class='object_link'>Object</span></tt>) <strong>has_command</strong>(name, path) {|| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>the name ´has_command´ looks odd in an API context, but makes more sense when seen in the internal
DSL context where a Provider is declaratively defined.</p>
</div>
  </div>

<p>Creates a convenience method for invocation of a command.</p>

<p>This generates a Provider method that allows easy execution of the command. The generated
method may take arguments that will be passed through to the executable as the command line arguments
when it is invoked.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Use it like this:</p>
</div></p>
      
      <pre class="example code"><code><span class='rubyid_has_command identifier id'>has_command</span><span class='lparen token'>(</span><span class='symbol val'>:echo</span><span class='comma token'>,</span> <span class='string val'>&quot;/bin/echo&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_def def kw'>def</span> <span class='rubyid_some_method identifier id'>some_method</span>
  <span class='rubyid_echo identifier id'>echo</span><span class='lparen token'>(</span><span class='string val'>&quot;arg 1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;arg 2&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</code></pre>
    
      
        <p class="example_title"><div class='inline'><p>. . . or like this</p>
</div></p>
      
      <pre class="example code"><code><span class='rubyid_has_command identifier id'>has_command</span><span class='lparen token'>(</span><span class='symbol val'>:echo</span><span class='comma token'>,</span> <span class='string val'>&quot;/bin/echo&quot;</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span>
  <span class='rubyid_is_optional identifier id'>is_optional</span>
  <span class='rubyid_environment identifier id'>environment</span> <span class='symbol val'>:HOME</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;/var/tmp&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:PWD</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;/tmp&quot;</span>
<span class='rubyid_end end kw'>end</span>
</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Symbol</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The name of the command (will become the name of the generated method that executes the command)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The path to the executable for the command</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A block that configures the command (see <span class='object_link'>Command</span>)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231
232
233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 229</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_has_command identifier id'>has_command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_path identifier id'>path</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_name identifier id'>name</span> <span class='assign token'>=</span> <span class='rubyid_name identifier id'>name</span><span class='dot token'>.</span><span class='rubyid_intern identifier id'>intern</span>
  <span class='rubyid_command identifier id'>command</span> <span class='assign token'>=</span> <span class='rubyid_CommandDefiner constant id'>CommandDefiner</span><span class='dot token'>.</span><span class='rubyid_define identifier id'>define</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_path identifier id'>path</span><span class='comma token'>,</span> <span class='rubyid_self self kw'>self</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>

  <span class='rubyid_@commands ivar id'>@commands</span><span class='lbrack token'>[</span><span class='rubyid_name identifier id'>name</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_command identifier id'>command</span><span class='dot token'>.</span><span class='rubyid_executable identifier id'>executable</span>

  <span class='comment val'># Now define the class and instance methods.</span>
  <span class='rubyid_create_class_and_instance_method identifier id'>create_class_and_instance_method</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='bitor op'>|</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_command identifier id'>command</span><span class='dot token'>.</span><span class='rubyid_execute identifier id'>execute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="make_command_methods-class_method">
  
    + (<tt><span class='object_link'>Object</span></tt>) <strong>make_command_methods</strong>(name) &nbsp;<span class="deprecated note title">deprecated</span><span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>Use <span class='object_link'><a href="#commands-class_method" title="Puppet::Provider.commands (method)">commands</a></span>, <span class='object_link'><a href="#optional_commands-class_method" title="Puppet::Provider.optional_commands (method)">optional_commands</a></span>, or <span class='object_link'><a href="#has_command-class_method" title="Puppet::Provider.has_command (method)">has_command</a></span> instead. This was not meant to be part of a public API</p>
</div></div>
<p>Creates the methods for a given command.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 382</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_make_command_methods identifier id'>make_command_methods</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_Puppet constant id'>Puppet</span><span class='dot token'>.</span><span class='rubyid_deprecation_warning identifier id'>deprecation_warning</span> <span class='string val'>&quot;Provider.make_command_methods is deprecated; use Provider.commands or Provider.optional_commands instead for creating command methods&quot;</span>

  <span class='comment val'># Now define a method for that command</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_singleton_class identifier id'>singleton_class</span><span class='dot token'>.</span><span class='rubyid_method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='rubyid_meta_def identifier id'>meta_def</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='bitor op'>|</span>
      <span class='comment val'># This might throw an ExecutionFailure, but the system above</span>
      <span class='comment val'># will catch it, if so.</span>
      <span class='rubyid_command identifier id'>command</span> <span class='assign token'>=</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Provider constant id'>Provider</span><span class='colon2 op'>::</span><span class='rubyid_Command constant id'>Command</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_command identifier id'>command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='comma token'>,</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Util constant id'>Util</span><span class='colon2 op'>::</span><span class='rubyid_Execution constant id'>Execution</span><span class='rparen token'>)</span>
      <span class='rubyid_return return kw'>return</span> <span class='rubyid_command identifier id'>command</span><span class='dot token'>.</span><span class='rubyid_execute identifier id'>execute</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='comment val'># And then define an instance method that just calls the class method.</span>
    <span class='comment val'># We need both, so both instances and classes can easily run the commands.</span>
    <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='rubyid_define_method identifier id'>define_method</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='bitor op'>|</span>
        <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="optional_commands-class_method">
  
    + (<tt><span class='object_link'>Object</span></tt>) <strong>optional_commands</strong>(hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Defines optional commands.
Since Puppet 2.7.8 this is typically not needed as evaluation of provider suitability
is lazy (when a resource is evaluated) and the absence of commands
that will be present after other resources have been applied no longer needs to be specified as
optional.
(@see #has_command)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span>{<span class='object_link'>String</span> =&gt; <span class='object_link'>String</span>}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Named commands that the provider will
be executing on the system. Each command is specified with a name and the path of the executable.</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#commands-class_method" title="Puppet::Provider.commands (method)">commands</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 195</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_optional_commands identifier id'>optional_commands</span><span class='lparen token'>(</span><span class='rubyid_hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='rubyid_hash identifier id'>hash</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_target identifier id'>target</span><span class='bitor op'>|</span>
    <span class='rubyid_has_command identifier id'>has_command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_target identifier id'>target</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span>
      <span class='rubyid_is_optional identifier id'>is_optional</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_resource_eval-class_method">
  
    + <strong>post_resource_eval</strong> &nbsp;<span class="abstract note title">abstract</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This method is abstract.</strong>
  <div class='inline'><p>A subclass may implement this - it is not implemented in the Provider class</p>
</div>
</div>
<p class="note returns_void">This method returns an undefined value.</p><p>This method may be implemented by a provider in order to perform any
cleanup actions needed.  It will be called at the end of the transaction if
any resources in the catalog make use of the provider, regardless of
whether the resources are changed or not and even if resource failures occur.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>3.4.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


611
612
613
614
615
616
617
618
619
620</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 611</span>

<span class='comment val'># @comment Document post_resource_eval here as it does not exist anywhere else (called from transaction if implemented)</span>
<span class='comment val'># @!method self.post_resource_eval()</span>
<span class='comment val'># @since 3.4.0</span>
<span class='comment val'># @api public</span>
<span class='comment val'># @abstract A subclass may implement this - it is not implemented in the Provider class</span>
<span class='comment val'># This method may be implemented by a provider in order to perform any</span>
<span class='comment val'># cleanup actions needed.  It will be called at the end of the transaction if</span>
<span class='comment val'># any resources in the catalog make use of the provider, regardless of</span>
<span class='comment val'># whether the resources are changed or not and even if resource failures occur.</span>
<span class='comment val'># @return [void]</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefetch-class_method">
  
    + <strong>prefetch</strong>(resource_hash) &nbsp;<span class="abstract note title">abstract</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This method is abstract.</strong>
  <div class='inline'><p>A subclass may implement this - it is not implemented in the Provider class</p>
</div>
</div>
<p class="note returns_void">This method returns an undefined value.</p><p>This method may be implemented by a provider in order to pre-fetch resource properties.
If implemented it should set the provider instance of the managed resources to a provider with the
fetched state (i.e. what is returned from the <span class='object_link'>instances</span> method).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resources_hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span>&lt;{<span class='object_link'>String</span> =&gt; <span class='object_link'><a href="Resource.html" title="Puppet::Resource (class)">Puppet::Resource</a></span>}&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>map from name to resource of resources to prefetch</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


601
602
603
604
605
606
607
608
609</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 601</span>

<span class='comment val'># @comment Document prefetch here as it does not exist anywhere else (called from transaction if implemented)</span>
<span class='comment val'># @!method self.prefetch(resource_hash)</span>
<span class='comment val'># @abstract A subclass may implement this - it is not implemented in the Provider class</span>
<span class='comment val'># This method may be implemented by a provider in order to pre-fetch resource properties.</span>
<span class='comment val'># If implemented it should set the provider instance of the managed resources to a provider with the</span>
<span class='comment val'># fetched state (i.e. what is returned from the {instances} method).</span>
<span class='comment val'># @param resources_hash [Hash&lt;{String =&gt; Puppet::Resource}&gt;] map from name to resource of resources to prefetch</span>
<span class='comment val'># @return [void]</span>
<span class='comment val'># @api public</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="command-instance_method">
  
    - (<tt><span class='object_link'>String</span></tt>) <strong>command</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the absolute path to the executable for the command referenced by the given name.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the absolute path to the found executable for the command</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Puppet::DevError</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the name does not reference an existing command.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Util.html#which-class_method" title="Puppet::Util.which (method)">Util.which</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


519
520
521</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 519</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_command identifier id'>command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_class identifier id'>class</span><span class='dot token'>.</span><span class='rubyid_command identifier id'>command</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flush-instance_method">
  
    - <strong>flush</strong> &nbsp;<span class="abstract note title">abstract</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This method is abstract.</strong>
  <div class='inline'><p>A subclass may implement this - it is not implemented in the Provider class</p>
</div>
</div>
<p class="note returns_void">This method returns an undefined value.</p><p>This method may be implemented by a provider in order to flush properties that has not been individually
applied to the managed entity's current state.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


622
623
624
625
626
627
628</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/provider.rb', line 622</span>

<span class='comment val'># @comment Document flush here as it does not exist anywhere (called from transaction if implemented)</span>
<span class='comment val'># @!method flush()</span>
<span class='comment val'># @abstract A subclass may implement this - it is not implemented in the Provider class</span>
<span class='comment val'># This method may be implemented by a provider in order to flush properties that has not been individually</span>
<span class='comment val'># applied to the managed entity's current state.</span>
<span class='comment val'># @return [void]</span>
<span class='comment val'># @api public</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue Feb 11 13:05:06 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-1.8.7).
</div>

  </body>
</html>
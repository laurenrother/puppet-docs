<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Puppet::Pops::Binder::Binder::LayerProcessor
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../../../';
  framesUrl = "../../../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../../../_index.html">Index (L)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Puppet.html" title="Puppet (module)">Puppet</a></span></span> &raquo; <span class='title'><span class='object_link'>Pops</span></span> &raquo; <span class='title'><span class='object_link'>Binder</span></span> &raquo; <span class='title'><span class='object_link'><a href="../Binder.html" title="Puppet::Pops::Binder::Binder (class)">Binder</a></span></span>
     &raquo; 
    <span class="title">LayerProcessor</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Puppet::Pops::Binder::Binder::LayerProcessor
  
  
  <span class="private note title">Private</span>
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'>Object</span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next">Puppet::Pops::Binder::Binder::LayerProcessor</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/puppet/pops/binder/binder.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This class is part of a private API.</strong>
  You should avoid using this class if possible, as it may be removed or be changed in the future.
</p>
<p>Processes the information in a layer, aggregating it to the injector_entries hash in its parent binder.
A LayerProcessor holds the intermediate state required while processing one layer.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      
<li class="public ">
  <span class="summary_signature">
    
      <a href="#effective_prec-instance_method" title="#effective_prec (instance method)">- (Object) <strong>effective_prec</strong> </a>
    

    
  </span>
  
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Returns the effective precedence as an array with highest precedence first.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#add-instance_method" title="#add (instance method)">- (Object) <strong>add</strong>(b) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Add the binding to the list of potentially effective bindings from this layer.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#add_contribution-instance_method" title="#add_contribution (instance method)">- (Object) <strong>add_contribution</strong>(b) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Add a multibind contribution.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind-instance_method" title="#bind (instance method)">- (Object) <strong>bind</strong>(binding) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Bind given abstract binding.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind_Binding-instance_method" title="#bind_Binding (instance method)">- (Object) <strong>bind_Binding</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind_Bindings-instance_method" title="#bind_Bindings (instance method)">- (Object) <strong>bind_Bindings</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind_CategorizedBindings-instance_method" title="#bind_CategorizedBindings (instance method)">- (Object) <strong>bind_CategorizedBindings</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Process CategorizedBindings by calculating precedence, and then if satisfying the predicates, process the contained bindings.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind_LayeredBindings-instance_method" title="#bind_LayeredBindings (instance method)">- (Object) <strong>bind_LayeredBindings</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Process layered bindings from highest to lowest layer.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind_NamedBindings-instance_method" title="#bind_NamedBindings (instance method)">- (Object) <strong>bind_NamedBindings</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#bind_NamedLayer-instance_method" title="#bind_NamedLayer (instance method)">- (Object) <strong>bind_NamedLayer</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Processes one named ("top level") layer consisting of a list of NamedBindings.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#highest-instance_method" title="#highest (instance method)">- (Puppet::Pops::Binder::InjectorEntry) <strong>highest</strong>(b1, b2) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The entry with the highest (category) precedence.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#is_contribution%3F-instance_method" title="#is_contribution? (instance method)">- (Boolean) <strong>is_contribution?</strong>(binding) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#key-instance_method" title="#key (instance method)">- (Object) <strong>key</strong>(binding) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Produces the key for the given Binding.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#pop_precedences-instance_method" title="#pop_precedences (instance method)">- (Object) <strong>pop_precedences</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#push_precedences-instance_method" title="#push_precedences (instance method)">- (Object) <strong>push_precedences</strong>(precedences) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  


  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="effective_prec-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>effective_prec</strong>  <span class="extras">(readonly)</span>&nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns the effective precedence as an array with highest precedence first.
Internally the precedence is an array with the highest precedence first.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 296</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_effective_prec identifier id'>effective_prec</span>
  <span class='rubyid_@effective_prec ivar id'>@effective_prec</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>add</strong>(b) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Add the binding to the list of potentially effective bindings from this layer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 186</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add identifier id'>add</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span>
  <span class='rubyid_bindings identifier id'>bindings</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Pops constant id'>Pops</span><span class='colon2 op'>::</span><span class='rubyid_Binder constant id'>Binder</span><span class='colon2 op'>::</span><span class='rubyid_InjectorEntry constant id'>InjectorEntry</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_effective_prec identifier id'>effective_prec</span><span class='comma token'>,</span> <span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_contribution-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>add_contribution</strong>(b) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Add a multibind contribution</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 193</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_contribution identifier id'>add_contribution</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span>
  <span class='rubyid_contributions identifier id'>contributions</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Pops constant id'>Pops</span><span class='colon2 op'>::</span><span class='rubyid_Binder constant id'>Binder</span><span class='colon2 op'>::</span><span class='rubyid_InjectorEntry constant id'>InjectorEntry</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_effective_prec identifier id'>effective_prec</span><span class='comma token'>,</span> <span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind</strong>(binding) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Bind given abstract binding</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 200</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind identifier id'>bind</span><span class='lparen token'>(</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
  <span class='rubyid_@@bind_visitor ivar id'>@@bind_visitor</span><span class='dot token'>.</span><span class='rubyid_visit_this identifier id'>visit_this</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='comma token'>,</span> <span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind_Binding-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind_Binding</strong>(o) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309
310
311
312
313</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 307</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind_Binding identifier id'>bind_Binding</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_is_contribution? fid id'>is_contribution?</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
    <span class='rubyid_add_contribution identifier id'>add_contribution</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_add identifier id'>add</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind_Bindings-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind_Bindings</strong>(o) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 316</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind_Bindings identifier id'>bind_Bindings</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_o identifier id'>o</span><span class='dot token'>.</span><span class='rubyid_bindings identifier id'>bindings</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span> <span class='rubyid_bind identifier id'>bind</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind_CategorizedBindings-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind_CategorizedBindings</strong>(o) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Process CategorizedBindings by calculating precedence, and then if satisfying the predicates, process the contained
bindings.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 330</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind_CategorizedBindings identifier id'>bind_CategorizedBindings</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_precedences identifier id'>precedences</span> <span class='assign token'>=</span> <span class='rubyid_o identifier id'>o</span><span class='dot token'>.</span><span class='rubyid_predicates identifier id'>predicates</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_p identifier id'>p</span><span class='bitor op'>|</span>
    <span class='rubyid_prec identifier id'>prec</span> <span class='assign token'>=</span> <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_category_precedences identifier id'>category_precedences</span><span class='lbrack token'>[</span><span class='rubyid_p identifier id'>p</span><span class='dot token'>.</span><span class='rubyid_categorization identifier id'>categorization</span><span class='rbrack token'>]</span>

    <span class='comment val'># Skip bindings if the categorization is not present, or</span>
    <span class='comment val'># if the category value is not the effective value for the categorization</span>
    <span class='comment val'># Ignore the value for the common category (it is not possible to state common 'false' etc.)</span>
    <span class='comment val'>#</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_prec identifier id'>prec</span>
    <span class='rubyid_return return kw'>return</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_category_values identifier id'>category_values</span><span class='lbrack token'>[</span><span class='rubyid_p identifier id'>p</span><span class='dot token'>.</span><span class='rubyid_categorization identifier id'>categorization</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='rubyid_p identifier id'>p</span><span class='dot token'>.</span><span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span> <span class='orop op'>||</span> <span class='rubyid_p identifier id'>p</span><span class='dot token'>.</span><span class='rubyid_categorization identifier id'>categorization</span> <span class='eq op'>==</span> <span class='string val'>'common'</span>
    <span class='rubyid_prec identifier id'>prec</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_push_precedences identifier id'>push_precedences</span><span class='lparen token'>(</span><span class='rubyid_precedences identifier id'>precedences</span><span class='rparen token'>)</span>
  <span class='rubyid_o identifier id'>o</span><span class='dot token'>.</span><span class='rubyid_bindings identifier id'>bindings</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span> <span class='rubyid_bind identifier id'>bind</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='rubyid_pop_precedences identifier id'>pop_precedences</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind_LayeredBindings-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind_LayeredBindings</strong>(o) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Process layered bindings from highest to lowest layer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 350</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind_LayeredBindings identifier id'>bind_LayeredBindings</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_o identifier id'>o</span><span class='dot token'>.</span><span class='rubyid_layers identifier id'>layers</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_layer identifier id'>layer</span><span class='bitor op'>|</span>
    <span class='rubyid_processor identifier id'>processor</span> <span class='assign token'>=</span> <span class='rubyid_LayerProcessor constant id'>LayerProcessor</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_binder identifier id'>binder</span><span class='comma token'>,</span> <span class='rubyid_key_factory identifier id'>key_factory</span><span class='rparen token'>)</span>
    <span class='comment val'># All except abstract (==error) are transfered to injector_entries</span>

    <span class='rubyid_processor identifier id'>processor</span><span class='dot token'>.</span><span class='rubyid_bind identifier id'>bind</span><span class='lparen token'>(</span><span class='rubyid_layer identifier id'>layer</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_k identifier id'>k</span><span class='comma token'>,</span> <span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='rubyid_entry identifier id'>entry</span> <span class='assign token'>=</span> <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_injector_entries identifier id'>injector_entries</span><span class='lbrack token'>[</span><span class='rubyid_k identifier id'>k</span><span class='rbrack token'>]</span>
      <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_key_factory identifier id'>key_factory</span><span class='dot token'>.</span><span class='rubyid_is_contributions_key? fid id'>is_contributions_key?</span><span class='lparen token'>(</span><span class='rubyid_k identifier id'>k</span><span class='rparen token'>)</span>
        <span class='rubyid_if if kw'>if</span> <span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_is_abstract? fid id'>is_abstract?</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
          <span class='rubyid_layer_name identifier id'>layer_name</span><span class='comma token'>,</span> <span class='rubyid_bindings_name identifier id'>bindings_name</span> <span class='assign token'>=</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Pops constant id'>Pops</span><span class='colon2 op'>::</span><span class='rubyid_Binder constant id'>Binder</span><span class='colon2 op'>::</span><span class='rubyid_Binder constant id'>Binder</span><span class='dot token'>.</span><span class='rubyid_get_named_binding_layer_and_name identifier id'>get_named_binding_layer_and_name</span><span class='lparen token'>(</span><span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
          <span class='rubyid_type_name identifier id'>type_name</span> <span class='assign token'>=</span> <span class='rubyid_key_factory identifier id'>key_factory</span><span class='dot token'>.</span><span class='rubyid_type_calculator identifier id'>type_calculator</span><span class='dot token'>.</span><span class='rubyid_string identifier id'>string</span><span class='lparen token'>(</span><span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_binding identifier id'>binding</span><span class='dot token'>.</span><span class='rubyid_type identifier id'>type</span><span class='rparen token'>)</span>
          <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;The abstract binding '#{type_name}/#{v.binding.name}' in '#{bindings_name}' in layer '#{layer_name}' was not overridden&quot;</span>
        <span class='rubyid_end end kw'>end</span>
        <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Internal Error - redefinition of key: #{k}, (should never happen)&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_entry identifier id'>entry</span>
        <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_injector_entries identifier id'>injector_entries</span><span class='lbrack token'>[</span><span class='rubyid_k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_v identifier id'>v</span>
      <span class='rubyid_else else kw'>else</span>
        <span class='rubyid_entry identifier id'>entry</span> <span class='integer val'>? </span><span class='rubyid_entry identifier id'>entry</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_v identifier id'>v</span> <span class='colon op'>:</span> <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_injector_entries identifier id'>injector_entries</span><span class='lbrack token'>[</span><span class='rubyid_k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_v identifier id'>v</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind_NamedBindings-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind_NamedBindings</strong>(o) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


321
322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 321</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind_NamedBindings identifier id'>bind_NamedBindings</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='comment val'># Name is ignored here, it should be introspected when needed (in case of errors)</span>
  <span class='rubyid_o identifier id'>o</span><span class='dot token'>.</span><span class='rubyid_bindings identifier id'>bindings</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span> <span class='rubyid_bind identifier id'>bind</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bind_NamedLayer-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>bind_NamedLayer</strong>(o) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Processes one named ("top level") layer consisting of a list of NamedBindings</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 375</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_bind_NamedLayer identifier id'>bind_NamedLayer</span><span class='lparen token'>(</span><span class='rubyid_o identifier id'>o</span><span class='rparen token'>)</span>
  <span class='rubyid_o identifier id'>o</span><span class='dot token'>.</span><span class='rubyid_bindings identifier id'>bindings</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span> <span class='rubyid_bind identifier id'>bind</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='rubyid_this_layer identifier id'>this_layer</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='comment val'># process regular bindings</span>
  <span class='rubyid_bindings identifier id'>bindings</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span>
    <span class='rubyid_bkey identifier id'>bkey</span> <span class='assign token'>=</span> <span class='rubyid_key identifier id'>key</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='dot token'>.</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>

    <span class='comment val'># ignore if a higher layer defined it, but ensure override gets resolved</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_x identifier id'>x</span> <span class='assign token'>=</span> <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_injector_entries identifier id'>injector_entries</span><span class='lbrack token'>[</span><span class='rubyid_bkey identifier id'>bkey</span><span class='rbrack token'>]</span>
      <span class='rubyid_x identifier id'>x</span><span class='dot token'>.</span><span class='rubyid_mark_override_resolved identifier id'>mark_override_resolved</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
      <span class='rubyid_next next kw'>next</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='comment val'># if already found in this layer, one wins (and resolves override), or it is an error</span>
    <span class='rubyid_existing identifier id'>existing</span> <span class='assign token'>=</span> <span class='rubyid_this_layer identifier id'>this_layer</span><span class='lbrack token'>[</span><span class='rubyid_bkey identifier id'>bkey</span><span class='rbrack token'>]</span>
    <span class='rubyid_winner identifier id'>winner</span> <span class='assign token'>=</span> <span class='rubyid_existing identifier id'>existing</span> <span class='integer val'>? </span><span class='rubyid_highest identifier id'>highest</span><span class='lparen token'>(</span><span class='rubyid_existing identifier id'>existing</span><span class='comma token'>,</span> <span class='rubyid_b identifier id'>b</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='rubyid_b identifier id'>b</span>
    <span class='rubyid_this_layer identifier id'>this_layer</span><span class='lbrack token'>[</span><span class='rubyid_bkey identifier id'>bkey</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_winner identifier id'>winner</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_existing identifier id'>existing</span>
      <span class='rubyid_winner identifier id'>winner</span><span class='dot token'>.</span><span class='rubyid_mark_override_resolved identifier id'>mark_override_resolved</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># Process contributions</span>
  <span class='comment val'># - organize map multibind_id to bindings with this id</span>
  <span class='comment val'># - for each id, create an array with the unique anonymous keys to the contributed bindings</span>
  <span class='comment val'># - bind the index to a special multibind contributions key (these are aggregated)</span>
  <span class='comment val'>#</span>
  <span class='rubyid_c_hash identifier id'>c_hash</span> <span class='assign token'>=</span> <span class='rubyid_Hash constant id'>Hash</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_hash identifier id'>hash</span><span class='comma token'>,</span> <span class='rubyid_key identifier id'>key</span><span class='bitor op'>|</span> <span class='rubyid_hash identifier id'>hash</span><span class='lbrack token'>[</span> <span class='rubyid_key identifier id'>key</span> <span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='rubyid_contributions identifier id'>contributions</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span> <span class='rubyid_c_hash identifier id'>c_hash</span><span class='lbrack token'>[</span> <span class='rubyid_b identifier id'>b</span><span class='dot token'>.</span><span class='rubyid_binding identifier id'>binding</span><span class='dot token'>.</span><span class='rubyid_multibind_id identifier id'>multibind_id</span> <span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_b identifier id'>b</span> <span class='rbrace token'>}</span>
  <span class='comment val'># - for each id</span>
  <span class='rubyid_c_hash identifier id'>c_hash</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_k identifier id'>k</span><span class='comma token'>,</span> <span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='rubyid_index identifier id'>index</span> <span class='assign token'>=</span> <span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_b identifier id'>b</span><span class='bitor op'>|</span>
      <span class='rubyid_bkey identifier id'>bkey</span> <span class='assign token'>=</span> <span class='rubyid_key identifier id'>key</span><span class='lparen token'>(</span><span class='rubyid_b identifier id'>b</span><span class='dot token'>.</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
      <span class='rubyid_this_layer identifier id'>this_layer</span><span class='lbrack token'>[</span><span class='rubyid_bkey identifier id'>bkey</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_b identifier id'>b</span>
      <span class='rubyid_bkey identifier id'>bkey</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_contributions_key identifier id'>contributions_key</span> <span class='assign token'>=</span> <span class='rubyid_key_factory identifier id'>key_factory</span><span class='dot token'>.</span><span class='rubyid_multibind_contributions identifier id'>multibind_contributions</span><span class='lparen token'>(</span><span class='rubyid_k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_this_layer identifier id'>this_layer</span><span class='lbrack token'>[</span><span class='rubyid_contributions_key identifier id'>contributions_key</span><span class='rbrack token'>]</span>
      <span class='rubyid_this_layer identifier id'>this_layer</span><span class='lbrack token'>[</span><span class='rubyid_contributions_key identifier id'>contributions_key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_this_layer identifier id'>this_layer</span><span class='lbrack token'>[</span><span class='rubyid_contributions_key identifier id'>contributions_key</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='rubyid_index identifier id'>index</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_this_layer identifier id'>this_layer</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="highest-instance_method">
  
    - (<tt><span class='object_link'><a href="../InjectorEntry.html" title="Puppet::Pops::Binder::InjectorEntry (class)">Puppet::Pops::Binder::InjectorEntry</a></span></tt>) <strong>highest</strong>(b1, b2) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns the entry with the highest (category) precedence</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../InjectorEntry.html" title="Puppet::Pops::Binder::InjectorEntry (class)">Puppet::Pops::Binder::InjectorEntry</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the entry with the highest (category) precedence</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 206</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_highest identifier id'>highest</span><span class='lparen token'>(</span><span class='rubyid_b1 identifier id'>b1</span><span class='comma token'>,</span> <span class='rubyid_b2 identifier id'>b2</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_b1 identifier id'>b1</span><span class='dot token'>.</span><span class='rubyid_precedence identifier id'>precedence</span> <span class='cmp op'>&lt;=&gt;</span> <span class='rubyid_b2 identifier id'>b2</span><span class='dot token'>.</span><span class='rubyid_precedence identifier id'>precedence</span>
  <span class='rubyid_when when kw'>when</span> <span class='integer val'>1</span>
    <span class='rubyid_b1 identifier id'>b1</span>
  <span class='rubyid_when when kw'>when</span> <span class='integer val'>-1</span>
    <span class='rubyid_b2 identifier id'>b2</span>
  <span class='rubyid_when when kw'>when</span> <span class='integer val'>0</span>
    <span class='rubyid_raise_conflicting_binding identifier id'>raise_conflicting_binding</span><span class='lparen token'>(</span><span class='rubyid_b1 identifier id'>b1</span><span class='comma token'>,</span> <span class='rubyid_b2 identifier id'>b2</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_contribution?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_contribution?</strong>(binding) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 275</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_is_contribution? fid id'>is_contribution?</span><span class='lparen token'>(</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
  <span class='notop op'>!</span> <span class='rubyid_binding identifier id'>binding</span><span class='dot token'>.</span><span class='rubyid_multibind_id identifier id'>multibind_id</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="key-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>key</strong>(binding) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Produces the key for the given Binding.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>binding</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Bindings/Binding.html" title="Puppet::Pops::Binder::Bindings::Binding (class)">Puppet::Pops::Binder::Bindings::Binding</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the binding to get a key for</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Object</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>an opaque key</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 265</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_key identifier id'>key</span><span class='lparen token'>(</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
  <span class='rubyid_k identifier id'>k</span> <span class='assign token'>=</span> <span class='rubyid_if if kw'>if</span> <span class='rubyid_is_contribution? fid id'>is_contribution?</span><span class='lparen token'>(</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
    <span class='comment val'># contributions get a unique (sequential) key</span>
    <span class='rubyid_binder identifier id'>binder</span><span class='dot token'>.</span><span class='rubyid_next_anonymous_key identifier id'>next_anonymous_key</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_key_factory identifier id'>key_factory</span><span class='dot token'>.</span><span class='rubyid_binding_key identifier id'>binding_key</span><span class='lparen token'>(</span><span class='rubyid_binding identifier id'>binding</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pop_precedences-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>pop_precedences</strong> &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288
289</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 286</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_pop_precedences identifier id'>pop_precedences</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='rubyid_prec_stack identifier id'>prec_stack</span><span class='dot token'>.</span><span class='rubyid_pop identifier id'>pop</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='rubyid_@effective_prec ivar id'>@effective_prec</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span> <span class='comment val'># clear cache</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push_precedences-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>push_precedences</strong>(precedences) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


280
281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/binder/binder.rb', line 280</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_push_precedences identifier id'>push_precedences</span><span class='lparen token'>(</span><span class='rubyid_precedences identifier id'>precedences</span><span class='rparen token'>)</span>
  <span class='rubyid_prec_stack identifier id'>prec_stack</span><span class='dot token'>.</span><span class='rubyid_push identifier id'>push</span><span class='lparen token'>(</span><span class='rubyid_precedences identifier id'>precedences</span><span class='rparen token'>)</span>
  <span class='rubyid_@effective_prec ivar id'>@effective_prec</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span> <span class='comment val'># clear cache</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue Feb 11 13:05:21 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-1.8.7).
</div>

  </body>
</html>